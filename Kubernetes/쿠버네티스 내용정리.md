# `쿠버네티스`란

- 컨테이너화된 워크로드와 서비스 관리하기 위한 오픈소스 플랫폼
- 컨테이너 오케스트레이션
- 구글
- Kubernetes ==> `k8s`



## 가상머신 vs 컨테이너

### 가상머신

> - infrastructure 위 Hypervisor(호스트 운영체제 포함)를 얹고 그 위에 하드웨어 기반의 가상머신(VM)을 올린다.
> - 가상 머신은 리소스가 더 필요할 때마다 그에 맞는 `하드웨어`를 세팅해줘야 한다.
> - 가상머신에는 `목적`에 따라 어플리케이션이 따로 존재한다(웹서버, 결제, 장바구니 등)
> - 유연하게 각 기능에 맞게 필요한 리소스에 맞게 하드웨어 환경은 주고 빼고 할 수 있다.
> - 문제는 만약 웹서버 어플리케이션 하나가 다운되면 우리 사이트는 바로 Die 그래서 `Horizontal`하게 여러 웹서버 가상머신을 구축해준다.



### 컨테이너

> - 동일하게 infrastructure 위에 Host Operation(호스트 운영체제)를 올리고 그 위에 `Docker` 컨테이너 플랫폼을 올리고 그 위에 각 기능을 담당하는 어플리케이션을 올린다.
> - 가상머신과 차이점은 소스코드와 베이스 환경만 있는 상황에서 동작시킨다. 이 말은 가상머신은 100MB의 어플리케이션을 운영하기 위해서 1~3GB 정도의 guest OS가 필요하다.
> - 컨테이너의 주 목적은 빠른 배포(deploy)
> - 독립된 공간에서 실행
> - 가볍게 실행할 수 있어서 빠르게 확장 축소 가능!

![Docker와 VM. Docker를 공부하면 가장 처음 등장하는 내용이 바로 `docker… | by 서강혁 | Medium](https://miro.medium.com/max/862/1*wOBkzBpi1Hl9Nr__Jszplg.png)



## 멀티호스트 도커 플랫폼

> - 완전한 기능을 담고있는 하나의 도커를 여러개로 만들 수 있고, 각 도커 안에 필요한 어플리케이션 자원을 `독립적`으로 세팅할 수 있다.
> - 하지만 각 도커마다 할당할 자원과 균등 배분을 `수동`으로 하는 것은 매우 비효율적이다.
> - 엔지니어가 모든 자원을 직접 배치하고 관리하는 작업은 어렵다(특히, `Micro-Sercive Architecture` 지향의 프로그램은 더더욱!)
> - 그래서 등장한 게 `컨테이너 오케스트레이션(쿠버네티스)`

![image-20220303162544305](C:\Users\dad04\Desktop\LSH\k8s\md-images\image-20220303162544305.png)

## 컨테이너 오케스트레이션(쿠버네티스)

> - 도커 위에서 배치할 어플리케이션을 자동으로 최적화 해서 자동 관리해주는 느낌
> - 각 도커 위에 work node를 관리해준다.
> - 각 상황에 맞게 확장, 축소도 알아서 도와주고, 하나의 도커 서비스가 다운 될 때도 다른 도커로 이동해서 사용할 수 있게끔 도와준다.
> - `쿠버네티스`는 컨테이너화된 어플리케이션을 `자동`으로 `배포, 스케일링 및 관리`해주는 오픈소스 시스템(from Google)
> - 쿠버네티스는 `조타수` 라는 의미를 가지고 있다.
> - `CNCF` 는 혼란스런 컨테이너화된 시스템을 오픈소스로 해결하고자 하는 컨퍼런스 비영리 조직

![Untitled](C:\Users\dad04\Desktop\LSH\k8s\md-images\Untitled.png)

![Untitled 1](C:\Users\dad04\Desktop\LSH\k8s\md-images\Untitled 1.png)



## 쿠버네티스 특징

> - 워크로드 분리
> - 어디서나 실행 가능하다. 
>   - 온프레미스(사내 서버 pc에 직접 도커 세팅)
>   - 퍼블릭 클라우드(AKS, GKS, EKS 등)
> - `선언적 API` ▶ 이 특징 때문에 `DevOps`가 가능하다



#### 선언적 API

- 요구사항을 선언해주면 알아서 진행해주는 방식
- 선언해준대로 최적화해서 자동으로 실행하다가 문제 발생하면 또 다시 바꿔주고 세팅해주는 방식

![Untitled 2](C:\Users\dad04\Desktop\LSH\k8s\md-images\Untitled 2.png)